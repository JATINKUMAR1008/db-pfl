"use client";
import Button from "@/components/button";
import { useAuth } from "@/providers/auth-provider";
import Image from "next/image";
import { useQuery } from "react-query";
import { LuClipboard } from "react-icons/lu";
import { useState } from "react";
import toast from "react-hot-toast";
import { nodeButton } from "@/components/services/service-table";

interface IPageProps {
  params: {
    slug: string;
    service_id: string;
  };
}

export default function ServicePage({ params }: IPageProps) {
  console.log(params);
  const { projects } = useAuth();
  const services = projects?.find(
    (project) => project.id === Number(params.slug)
  )?.services;
  const service = services?.find(
    (service) => service.id === Number(params.service_id)
  );
  return (
    services &&
    service && (
      <div className="mt-5 max-w-[1200px] m-auto">
        <ServiceInfoCard service_id={params.service_id} services={services} />
        <div className="mt-7 w-full border-2 border-gray-200">
          <div className="w-full flex justify-between items-center p-3  bg-[#F7F7FA] shadow-sm">
            <h1 className="text-black text-xl font-[500]">
              Connection Information
            </h1>
            <Button type="button" className="p-2 px-3">
              Quick Connect
            </Button>
          </div>
          <div className="w-full h-full flex flex-col items-start mt-2 py-2 px-3">
            <RenderServiceInfo
              name={service?.name}
              serviceType={service?.type}
            />
          </div>
        </div>
      </div>
    )
  );
}

const matcher = {
  mysql: {
    name: "MySQL",
    type: "mysql",
    description:
      "MySQL - Popular general-purpose easy-to-use rational database",
    image_url:
      "data:image/svg+xml,%3csvg width='58' height='58' viewBox='0 0 58 58' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M28.9496 0C13.0122 0 0 13.0122 0 29.0504C0 44.9878 13.0122 58 28.9496 58C44.887 58 58 44.9878 58 29.0504C58 13.0122 44.9878 0 28.9496 0Z' fill='url(%23paint0_linear)'/%3e %3cpath d='M15.8365 11.1965C16.6434 11.2974 17.4504 11.6 18.1565 12.0034C18.5599 12.2052 19.0643 12.5078 19.4678 12.7095C19.6695 12.8104 19.7704 13.0121 19.9721 13.113C20.1739 13.2139 20.2747 13.4156 20.4765 13.5165C20.5773 13.6174 20.6782 13.6174 20.7791 13.6174C21.2834 13.6174 21.8886 13.7182 22.393 13.7182C22.5947 13.7182 22.7965 13.8191 22.9982 13.8191C23.6034 13.92 24.3095 14.1217 24.9147 14.3234C25.2173 14.4243 25.4191 14.5252 25.7217 14.7269C27.033 15.5339 28.2434 16.3408 29.4539 17.2487C31.2695 18.7617 32.8834 20.4765 34.1947 22.393C34.4973 22.7965 34.6991 23.2 35.0017 23.6034C35.4052 24.2087 35.6069 24.8139 35.9095 25.52C36.6156 27.3356 37.4226 29.0504 38.3304 30.8661C38.5321 31.1687 38.633 31.5721 38.8347 31.8748C38.9356 32.1774 39.1373 32.48 39.3391 32.7826C39.44 32.9843 39.6417 33.0852 39.8434 33.0852C40.6504 33.3878 41.3565 33.7913 42.1634 34.0939C42.7686 34.2956 43.273 34.6991 43.7773 35.1026C44.8869 35.9095 45.9965 36.7165 47.0052 37.6243C47.2069 37.8261 47.4086 38.0278 47.5095 38.2295C47.7113 38.5321 47.913 38.8348 48.2156 39.0365C48.2156 39.0365 48.3165 39.2382 48.2156 39.3391C48.2156 39.3391 48.2156 39.3391 48.1147 39.3391C47.5095 39.5408 46.9043 39.7426 46.2991 39.8434C45.7947 39.9443 45.3913 39.9443 44.8869 40.0452C44.5843 40.1461 44.1808 40.2469 43.8782 40.3478C43.5756 40.4487 43.273 40.5495 42.8695 40.5495H42.7686C42.8695 40.7513 42.9704 40.953 43.1721 41.1548C43.4747 41.4574 43.7773 41.6591 44.08 41.8608C44.3826 42.0626 44.6852 42.1634 44.8869 42.3652C45.7947 42.8695 46.6017 43.5756 47.3078 44.2817C47.6104 44.5843 47.8121 44.8869 48.1147 45.1895C48.1147 45.2904 48.2156 45.2904 48.2156 45.3913C48.4173 45.4921 48.5182 45.6939 48.7199 45.7948C48.9217 45.9965 49.0226 46.0974 49.1234 46.4C49.2243 46.5008 49.2243 46.7026 49.3252 46.8034C49.3252 46.8034 49.3252 46.8034 49.3252 46.9043C49.2243 46.9043 49.2243 46.9043 49.1234 46.8034C49.0226 46.7026 48.9217 46.7026 48.9217 46.6017C48.7199 46.4 48.4173 46.1982 48.2156 45.9965C47.913 45.7948 47.5095 45.4921 47.2069 45.2904C46.8034 44.9878 46.2991 44.7861 45.7947 44.4834C45.2904 44.2817 44.786 43.9791 44.2817 43.7774C43.6765 43.4748 43.1721 43.0713 42.5669 42.6678C41.9617 42.2643 41.5582 41.76 41.1547 41.1548C41.0539 40.953 40.953 40.7513 40.8521 40.5495C40.8521 40.4487 40.7513 40.3478 40.6504 40.2469V40.1461C40.6504 40.0452 40.7513 39.9443 40.8521 39.9443C40.953 39.8434 41.0539 39.8434 41.0539 39.8434C41.4573 39.7426 41.7599 39.5408 42.1634 39.44C42.7686 39.2382 43.3739 39.1374 43.9791 39.0365C44.786 38.9356 45.4921 38.9356 46.2991 38.9356H46.3999C46.3999 38.8348 46.2991 38.7339 46.2991 38.7339C46.1982 38.633 46.0973 38.5321 45.8956 38.3304C45.7947 38.2295 45.6939 38.2295 45.593 38.1287C44.786 37.6243 44.08 37.0191 43.273 36.5148C42.9704 36.313 42.6678 36.1113 42.3652 35.9095C42.0626 35.7078 41.8608 35.6069 41.5582 35.5061C40.7513 35.2034 39.8434 34.9008 39.0365 34.5982C38.8347 34.4974 38.633 34.3965 38.4313 34.2956C38.2295 34.1948 38.1286 34.0939 38.0278 33.8921C37.6243 33.2869 37.2208 32.6817 36.9182 31.9756C36.2121 30.2608 35.4052 28.6469 34.5982 26.9321C34.4973 26.7304 34.3965 26.5287 34.3965 26.3269C34.1947 25.6208 33.7913 24.9148 33.3878 24.2087C32.0765 21.9895 30.4626 20.073 28.546 18.4591C27.1339 17.2487 25.5199 16.24 23.8052 15.433C23.5026 15.3321 23.2 15.1304 22.7965 15.0295C22.393 14.9287 21.9895 14.8278 21.586 14.8278C21.1826 14.8278 20.6782 14.8278 20.2747 14.7269C20.1739 14.7269 19.9721 14.7269 19.8713 14.7269C19.7704 14.7269 19.6695 14.7269 19.5686 14.6261C19.4678 14.5252 19.266 14.4243 19.1652 14.3234C18.5599 13.7182 17.9547 13.4156 17.2486 13.0121C16.7443 12.8104 16.24 12.6087 15.7356 12.4069C15.5339 12.3061 15.2313 12.3061 15.0295 12.3061C14.8278 12.3061 14.626 12.4069 14.5252 12.5078L14.4243 12.6087C14.3234 12.8104 14.2226 13.113 14.3234 13.3148C14.4243 13.6174 14.5252 13.92 14.7269 14.1217C14.9286 14.4243 15.2313 14.7269 15.433 15.0295C15.8365 15.6348 16.3408 16.1391 16.6434 16.7443C17.0469 17.3495 17.2486 17.9548 17.4504 18.56C17.753 19.3669 17.9547 20.073 18.2573 20.88C18.56 21.6869 18.8626 22.4939 19.3669 23.2C19.4678 23.3008 19.5686 23.5026 19.6695 23.6034C19.7704 23.7043 19.8713 23.8052 19.9721 23.9061C20.1739 24.1078 20.2747 24.3095 20.3756 24.5113C20.4765 24.713 20.3756 24.9148 20.3756 25.0156C20.2747 25.4191 20.1739 25.8226 20.073 26.2261C19.9721 26.6295 19.7704 27.033 19.6695 27.4365C19.4678 28.0417 19.4678 28.6469 19.3669 29.2521C19.3669 29.8574 19.3669 30.3617 19.3669 30.9669C19.4678 31.9756 19.6695 32.9843 20.073 33.993C20.1739 34.1948 20.2747 34.4974 20.3756 34.6991C20.4765 34.9008 20.5773 35.1026 20.7791 35.2035C20.88 35.3043 20.9808 35.4052 21.1826 35.4052C21.2834 35.4052 21.3843 35.4052 21.3843 35.3043C21.3843 35.1026 21.4852 34.9008 21.4852 34.5982C21.586 33.8921 21.586 33.1861 21.7878 32.5808C21.9895 31.8748 22.1913 31.1687 22.6956 30.6643C22.8973 30.4626 22.9982 30.2608 23.2 30.0591C23.3008 29.9582 23.3008 29.9582 23.3008 30.0591C23.4017 30.16 23.4017 30.16 23.4017 30.2608C23.906 31.8748 24.713 33.3878 25.5199 34.8C26.1252 35.9095 26.8313 36.9182 27.6382 37.9269C27.9408 38.3304 28.3443 38.7339 28.6469 39.0365C28.7478 39.1374 28.7478 39.1374 28.8486 39.2382C29.0504 39.3391 29.1513 39.44 29.353 39.6417C29.353 39.6417 29.353 39.6417 29.2521 39.6417C29.0504 39.5408 28.8486 39.44 28.6469 39.2382C28.4452 39.0365 28.2434 38.8348 28.0417 38.633C27.8399 38.4313 27.5373 38.2295 27.3356 38.0278C26.4278 37.3217 25.5199 36.5148 24.8139 35.6069C24.5113 35.2034 24.3095 34.9008 24.1078 34.4974C23.906 33.993 23.6034 33.4887 23.3008 32.9843C23.3008 32.9843 23.3008 32.8834 23.2 32.8834C23.0991 32.9843 23.0991 32.9843 23.0991 33.0852C22.9982 33.7913 22.8973 34.4974 22.7965 35.2035C22.7965 35.4052 22.6956 35.6069 22.5947 35.9095C22.2921 36.7165 21.3843 36.9182 20.7791 36.7165C20.4765 36.6156 20.2747 36.4139 20.073 36.2121C19.5686 35.7078 19.266 35.2034 18.9634 34.5982C18.5599 33.7913 18.3582 32.8834 18.2573 32.0765C18.1565 31.3704 18.1565 30.6643 18.1565 29.9582C18.1565 29.0504 18.3582 28.0417 18.5599 27.2348C18.6608 26.8313 18.7617 26.4278 18.8626 25.9234C18.9634 25.7217 18.9634 25.4191 19.1652 25.2174C19.1652 25.1165 19.1652 25.1165 19.1652 25.0156C19.1652 24.9148 19.0643 24.713 18.9634 24.713C18.4591 24.3095 18.1565 23.7043 17.8539 23.0991C17.4504 22.2921 17.0469 21.3843 16.7443 20.5774C16.6434 20.1739 16.4417 19.7704 16.3408 19.3669C16.24 19.1652 16.1391 18.8626 16.1391 18.56C16.0382 18.2574 15.9373 17.8539 15.7356 17.5513C15.433 17.1478 15.1304 16.6434 14.8278 16.24C14.5252 15.9374 14.3234 15.5339 14.0208 15.2313C13.7182 14.8278 13.5165 14.5252 13.3147 14.1217C13.2139 13.8191 13.113 13.6174 13.0121 13.3148C13.0121 13.3148 13.0121 13.2139 12.9113 13.2139C12.9113 13.113 12.9113 12.9113 12.9113 12.8104C12.9113 12.7095 12.9113 12.7095 13.0121 12.6087C13.113 12.3061 13.2139 12.0034 13.3147 11.8017C13.5165 11.3982 13.92 11.1965 14.3234 11.0956C14.4243 11.0956 14.5252 10.9948 14.7269 10.9948C14.8278 10.9948 14.8278 10.9948 14.9286 10.9948C15.0295 10.9948 15.1304 10.9948 15.3321 10.9948C15.7356 11.1965 15.7356 11.1965 15.8365 11.1965Z' fill='white'/%3e %3cpath d='M15.0295 11.196C14.9286 11.196 14.8278 11.196 14.626 11.2968C14.2226 11.3977 13.92 11.7003 13.6173 12.0029C13.4156 12.3055 13.3147 12.5073 13.3147 12.8099C13.3147 12.9107 13.3147 12.9107 13.2139 13.0116C13.2139 12.4064 13.2139 11.8012 13.2139 11.0951C13.92 11.196 14.4243 11.196 15.0295 11.196Z' fill='white'/%3e %3cpath d='M20.5774 17.4505C20.6783 17.3496 20.88 17.3496 20.9809 17.3496C21.0817 17.3496 21.0817 17.3496 21.1826 17.3496C21.3843 17.3496 21.5861 17.3496 21.7878 17.4505C21.8887 17.5513 21.8887 17.5513 21.9896 17.5513C22.0904 17.6522 22.2922 17.7531 22.2922 17.9548C22.393 18.0557 22.393 18.1566 22.4939 18.2574V18.3583C22.4939 18.6609 22.4939 18.8627 22.2922 19.1653C22.1913 19.367 22.0904 19.4679 21.8887 19.5687L21.7878 19.4679C21.687 19.1653 21.4852 18.8627 21.3844 18.6609C21.2835 18.4592 21.1826 18.3583 21.0817 18.1566C20.9809 17.9548 20.7791 17.7531 20.5774 17.4505Z' fill='white'/%3e %3cdefs%3e %3clinearGradient id='paint0_linear' x1='48.1305' y1='9.86928' x2='7.29428' y2='50.7055' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%230CA6D3'/%3e %3cstop offset='1' stop-color='%23096B88'/%3e %3c/linearGradient%3e %3c/defs%3e %3c/svg%3e",
  },
  pqsql: {
    name: "PostgreSQL",
    type: "pqsql",
    description:
      "PostgreSQL - High-performance relational database with advanced extensions",
    image_url:
      "data:image/svg+xml,%3csvg width='58' height='58' viewBox='0 0 58 58' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M28.9496 0C13.0122 0 0 13.0122 0 29.0504C0 44.9878 13.0122 58 28.9496 58C44.887 58 58 44.9878 58 29.0504C58 13.0122 44.9878 0 28.9496 0Z' fill='url(%23paint0_linear)'/%3e %3cpath d='M43.3739 26.5287C43.9791 25.1165 43.7774 23.6035 42.8696 22.393L39.9444 18.4591C39.3391 17.5513 38.2296 17.2487 37.12 17.5513L33.6905 18.8626C33.0852 18.8626 31.2696 17.8539 28.9496 18.2574C26.7305 17.9548 24.8139 18.8626 24.2087 18.8626L20.7791 17.5513C19.7705 17.2487 18.6609 17.5513 17.9548 18.4591L15.1304 22.393C14.2226 23.6035 14.0209 25.2174 14.6261 26.5287C15.7357 29.2522 17.4505 30.9669 19.8713 32.8835C21.0818 33.7913 22.6957 33.6904 23.7044 32.5808C23.9061 32.2782 24.1078 32.0765 24.4105 31.673C24.5113 31.5722 24.5113 31.3704 24.4105 31.2695L24.3096 31.1687C23.7044 30.6643 23.4018 29.8574 23.4018 29.1513V28.4452L22.7965 26.7304C22.5948 26.2261 22.5948 25.7217 22.5948 25.2174L22.8974 23.0991L21.8887 21.3843C21.7878 21.1826 21.8887 20.9808 21.9896 20.88C22.1913 20.7791 22.3931 20.88 22.4939 20.9808L23.6035 22.7965C23.6035 22.8974 23.7044 22.9982 23.6035 22.9982L23.2 25.2174C23.0991 25.6208 23.2 26.0243 23.3009 26.4278L24.007 28.1426V28.2435V28.9495C24.007 29.5548 24.3096 30.0591 24.7131 30.4626L25.0157 30.6643C25.2174 30.8661 25.1165 31.0678 25.0157 31.2695C24.9148 31.3704 24.8139 31.4713 24.8139 31.673V32.7826C24.8139 33.3878 25.1165 33.993 25.52 34.3965C26.1252 35.0017 26.5287 35.8087 26.5287 36.6156C26.8313 42.0626 32.6818 43.4748 34.0939 39.44C34.0939 39.3391 34.0939 39.1374 33.8922 39.1374C33.6904 39.0365 33.3878 38.9356 33.287 38.7339C33.1861 38.633 32.9844 38.633 32.8835 38.7339C32.7826 38.9356 32.8835 38.7339 32.8835 38.7339C31.6731 39.1374 31.3705 38.1287 31.4713 36.7165C31.5722 35.9095 31.8748 35.1026 32.48 34.4974L32.6818 34.2956C33.0852 33.8921 33.3878 33.2869 33.3878 32.6817V31.5722C33.3878 31.4713 33.287 31.2695 33.1861 31.1687C32.9844 31.0678 32.9844 30.7652 33.1861 30.5635L33.4887 30.3617C33.8922 29.9582 34.1948 29.4539 34.1948 28.8487V28.1426V28.0417L34.9009 26.3269C35.0018 25.9235 35.1026 25.52 35.0018 25.1165L34.5983 22.8974C34.5983 22.7965 34.5983 22.6956 34.5983 22.6956L35.7078 20.88C35.8087 20.6782 36.0105 20.6782 36.2122 20.7791C36.4139 20.88 36.4139 21.0817 36.3131 21.2835L35.3044 22.9982L35.607 25.1165C35.7078 25.6208 35.607 26.1252 35.4052 26.6295L34.8 28.3443V29.0504C34.8 29.8574 34.4974 30.5635 33.8922 31.0678C33.7913 31.0678 33.7913 31.1687 33.7913 31.1687C33.6905 31.2695 33.6905 31.4713 33.7913 31.5722C33.9931 31.8748 34.1948 32.1774 34.4974 32.48C35.5061 33.5895 37.12 33.7913 38.3305 32.7826C40.5496 30.9669 42.2644 29.2522 43.3739 26.5287Z' fill='white'/%3e %3cdefs%3e %3clinearGradient id='paint0_linear' x1='48.1305' y1='9.86928' x2='7.29428' y2='50.7055' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%23478FCC'/%3e %3cstop offset='1' stop-color='%2300579B'/%3e %3c/linearGradient%3e %3c/defs%3e %3c/svg%3e",
  },
  redis: {
    name: "Redis",
    type: "redis",
    description:
      "Redis - In-memory data structure store, used as a database, cache, and message broker",
    image_url:
      "data:image/svg+xml,%3csvg width='64' height='64' viewBox='0 0 64 64' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M32.0556 64C49.642 64 64 49.642 64 31.9444C64 14.2468 49.642 0 32.0556 0C14.4692 0 0 14.358 0 31.9444C0 49.5308 14.358 64 32.0556 64Z' fill='url(%23paint0_linear_1409_967)'/%3e %3cpath d='M45.9378 15.4208H18.2756C16.4823 15.4208 15.029 16.874 15.029 18.6673V46.3295C15.029 48.1228 16.4823 49.5761 18.2756 49.5761H45.9378C47.7311 49.5761 49.1843 48.1228 49.1843 46.3295V18.6673C49.1843 16.874 47.7311 15.4208 45.9378 15.4208ZM24.1907 21.1135C26.7468 21.1135 28.8194 23.1861 28.8194 25.7422C28.8194 28.2983 26.7468 30.3709 24.1907 30.3709C21.6346 30.3709 19.562 28.2983 19.562 25.7422C19.562 23.1861 21.6346 21.1135 24.1907 21.1135ZM24.1907 44.5311L19.1056 39.446L24.1907 34.3609L29.2758 39.446L24.1907 44.5311ZM34.8923 43.498L39.8998 35.3939L44.9073 43.498H34.8923ZM42.5038 26.7869L43.1179 30.3709L39.8985 28.6785L36.6791 30.3709L37.2933 26.7869L34.6893 24.2489L38.2888 23.7265L39.8985 20.4658L41.5082 23.7265L45.1077 24.2489L42.5038 26.7869Z' fill='white'/%3e %3cdefs%3e %3clinearGradient id='paint0_linear_1409_967' x1='12.0928' y1='51.9279' x2='53.2389' y2='10.7817' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%239A298E'/%3e %3cstop offset='0.56' stop-color='%23752AB6'/%3e %3cstop offset='1' stop-color='%23562BD8'/%3e %3c/linearGradient%3e %3c/defs%3e %3c/svg%3e",
  },
  kafka: {
    name: "Apache Kafka",
    type: "kafka",
    description: "Apache Kafka - Distributed event streaming platform",
    image_url:
      "data:image/svg+xml,%3csvg width='56' height='56' viewBox='0 0 56 56' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M27.9547 0C12.5689 0 0 12.5689 0 28.0453C0 43.4311 12.5689 56 27.9547 56C43.3406 56 56 43.4311 56 28.0453C56 12.5689 43.4311 0 27.9547 0Z' fill='url(%23paint0_linear_458_20394)'/%3e %3cpath d='M47.9628 20.5177C47.889 20.9844 47.6763 21.4187 47.3517 21.7653C47.0272 22.112 46.6055 22.3552 46.1404 22.464L42.214 23.4206C41.8413 24.2124 41.3863 24.9637 40.8561 25.6623C40.7003 25.8614 40.4717 25.9923 40.2193 26.0268C39.9669 26.0613 39.711 25.9967 39.5062 25.8469C39.3015 25.697 39.1644 25.4739 39.1242 25.2253C39.084 24.9767 39.144 24.7224 39.2913 24.517C40.2479 23.24 40.5768 22.3061 40.5802 22.297C40.6331 22.1438 40.7239 22.0062 40.8444 21.8967C40.9649 21.7871 41.1112 21.7091 41.2701 21.6698L45.6736 20.5961C45.7674 20.5737 45.8524 20.5244 45.9181 20.4546C45.9838 20.3847 46.0273 20.2973 46.0431 20.2032C46.0589 20.1091 46.0464 20.0125 46.0071 19.9254C45.9677 19.8383 45.9033 19.7646 45.8219 19.7133L43.22 18.0614C42.7808 17.8148 42.1289 17.5455 41.876 17.5455C41.2919 17.5455 40.3284 18.2068 39.8559 18.9294C39.6089 19.3006 39.3242 19.6459 39.0062 19.9599C37.9714 21.0006 36.7998 22.18 34.3945 21.763C32.4997 21.4358 31.4661 20.4553 30.3106 19.2055L30.3026 19.1964C28.8539 17.5887 27.4765 16.9627 25.3908 16.9627C22.252 16.9627 19.5271 19.0941 19.0557 21.9232C19.0106 22.2188 18.9879 22.5173 18.9878 22.8162C18.9855 23.9617 19.3212 25.083 19.9536 26.0429C20.0844 26.2565 20.1261 26.5118 20.0699 26.7552C20.0137 26.9985 19.8641 27.2108 19.6525 27.3471C19.441 27.4835 19.1841 27.5333 18.9361 27.486C18.6881 27.4388 18.4684 27.2982 18.3233 27.0939C17.8535 26.3868 17.5039 25.6084 17.2885 24.7897C15.0338 28.6981 12.8953 30.7875 10.5866 31.4249C10.0866 31.5631 9.56975 31.633 9.05054 31.6328C7.58575 31.6328 6.04393 31.0829 4.37909 29.9706C4.18281 29.821 4.05165 29.6031 4.01233 29.3613C3.97301 29.1194 4.0285 28.8719 4.16748 28.6691C4.30646 28.4662 4.51848 28.3234 4.76032 28.2697C5.00216 28.216 5.25562 28.2555 5.46906 28.38C7.24887 29.5684 8.70906 29.9491 10.0681 29.5753C12.4642 28.9151 14.8901 25.8032 17.7013 19.7838L17.7254 19.7383C18.2393 18.6406 19.0031 17.6751 19.9571 16.9172C21.5012 15.6963 23.4213 15.0336 25.3989 15.0392C28.0433 15.0392 29.9438 15.8981 31.7604 17.9125C32.8792 19.1225 33.5414 19.6622 34.7383 19.869C36.0766 20.0962 36.6193 19.6236 37.6265 18.6113C37.8514 18.3905 38.0528 18.1476 38.2278 17.8864C38.4517 17.5489 38.7141 17.2378 39.0096 16.9593C38.8124 16.8142 38.6292 16.6514 38.4624 16.473C37.6104 15.5641 37.1447 14.2007 37.2459 12.9157C37.2522 12.787 37.2846 12.6609 37.3412 12.5448C37.3977 12.4288 37.4773 12.3251 37.5751 12.24C37.673 12.1549 37.7871 12.0901 37.9108 12.0493C38.0345 12.0086 38.1652 11.9929 38.2951 12.003C38.4251 12.0131 38.5516 12.0489 38.6673 12.1082C38.783 12.1676 38.8855 12.2493 38.9686 12.3485C39.0518 12.4477 39.1139 12.5624 39.1514 12.6858C39.1888 12.8092 39.2009 12.9387 39.1867 13.0668C39.1579 13.445 39.2048 13.8251 39.3247 14.1854C39.4447 14.5456 39.6353 14.879 39.8858 15.1664C40.0717 15.3722 40.3041 15.5318 40.5641 15.6322C40.3928 14.5983 40.7642 13.4144 41.6713 12.3851C41.8407 12.1927 42.0805 12.0747 42.338 12.057C42.5954 12.0393 42.8494 12.1234 43.0441 12.2908C43.2388 12.4582 43.3583 12.6951 43.3762 12.9495C43.394 13.2039 43.3089 13.455 43.1395 13.6474C42.4497 14.4268 42.2818 15.2664 42.6877 15.7538C42.9518 15.8302 43.2104 15.9243 43.4615 16.0356C43.7366 16.144 44.002 16.2751 44.2548 16.4276V16.4276L46.8739 18.0898C47.2796 18.3412 47.5999 18.7067 47.7939 19.1393C47.9879 19.5719 48.0467 20.0519 47.9628 20.5177V20.5177ZM37.3747 27.362C37.3752 27.3586 37.3752 27.3552 37.3747 27.3518C37.3747 27.3416 37.3747 27.3313 37.3678 27.32C37.3609 27.3086 37.3609 27.2836 37.3563 27.2654C37.3517 27.2473 37.3459 27.2336 37.3413 27.2188L37.3276 27.1779C37.3207 27.1598 37.3138 27.1427 37.3057 27.1257C37.2977 27.1086 37.2965 27.103 37.2908 27.0916C37.285 27.0802 37.2735 27.0575 37.2643 27.0416L37.2459 27.0098L37.2149 26.9621L37.193 26.9325C37.1815 26.9166 37.1689 26.903 37.1574 26.8894L37.1321 26.8598L37.0907 26.8189L37.0643 26.7939C37.0482 26.7793 37.0313 26.7657 37.0137 26.753L36.9918 26.7348C36.9697 26.7188 36.9467 26.704 36.9228 26.6905L36.9136 26.6837C36.7578 26.592 36.5787 26.5459 36.3974 26.5508H36.3618H36.3169H36.2652H36.2571L36.2192 26.5587L36.1709 26.569L36.1192 26.5849L36.0812 26.5974L36.0283 26.619L35.9938 26.6337L35.9456 26.6587L35.9099 26.6792L35.8674 26.7064L35.8306 26.7326L35.7949 26.761L35.757 26.7928C35.7455 26.803 35.7363 26.8132 35.7259 26.8235L35.6903 26.8598L35.6604 26.895L35.6305 26.9325L35.5995 26.9791L35.5811 27.0064C34.7682 28.3539 32.4882 29.0981 31.2235 29.0981C30.5459 29.1019 29.8698 29.0341 29.2068 28.8958C29.2298 28.8186 29.254 28.7413 29.2747 28.6629C29.6449 27.3018 29.637 25.8672 29.2517 24.5102C29.219 24.3864 29.1616 24.2702 29.083 24.1686C29.0043 24.0669 28.9059 23.9818 28.7935 23.9181C28.6811 23.8545 28.557 23.8137 28.4285 23.798C28.2999 23.7824 28.1695 23.7922 28.0449 23.827C27.9202 23.8617 27.8039 23.9207 27.7026 24.0005C27.6013 24.0802 27.5171 24.1791 27.4549 24.2914C27.3928 24.4037 27.354 24.5271 27.3407 24.6544C27.3274 24.7818 27.3399 24.9104 27.3776 25.0329C27.6682 26.0561 27.6742 27.1378 27.3948 28.1641C26.5486 31.2909 23.3293 33.1564 20.2169 32.3339C20.0728 32.2955 19.9216 32.2904 19.7751 32.3191C19.6286 32.3477 19.4908 32.4093 19.3723 32.4991C19.2538 32.5888 19.1578 32.7044 19.0917 32.8367C19.0256 32.969 18.9913 33.1146 18.9913 33.2621V33.3337C18.9914 33.468 19.02 33.6007 19.0752 33.7234L23.4443 43.4319C23.5212 43.6015 23.6462 43.7454 23.8041 43.8462C23.962 43.947 24.1462 44.0004 24.3342 44C24.4701 44.0002 24.6045 43.9719 24.7286 43.9171C24.8454 43.8658 24.9509 43.7924 25.0389 43.7009C25.127 43.6094 25.196 43.5016 25.2419 43.3838C25.2878 43.2659 25.3098 43.1402 25.3065 43.014C25.3033 42.8877 25.2749 42.7634 25.223 42.648L21.5368 34.446C21.5955 34.446 21.6518 34.446 21.7128 34.446C23.0608 34.4396 24.3845 34.0907 25.5566 33.4327C26.7287 32.7746 27.7098 31.8297 28.4055 30.6887C29.3275 30.9178 30.2751 31.0304 31.2258 31.0239C32.8504 31.0239 34.4244 30.4365 35.6041 29.6355C35.5351 31.5976 34.7751 32.7122 34.2244 33.5098C34.1484 33.6141 34.0944 33.7324 34.0655 33.8577C34.0366 33.983 34.0334 34.1127 34.0561 34.2392C34.0788 34.3657 34.127 34.4865 34.1978 34.5943C34.2685 34.7021 34.3604 34.7948 34.4681 34.8669C34.5757 34.939 34.6969 34.989 34.8244 35.0141C34.952 35.0391 35.0833 35.0386 35.2107 35.0126C35.338 34.9866 35.4588 34.9356 35.5659 34.8627C35.6729 34.7898 35.7641 34.6964 35.834 34.588C36.6067 33.4587 38.0427 31.3602 37.3747 27.3597V27.362Z' fill='white'/%3e %3cdefs%3e %3clinearGradient id='paint0_linear_458_20394' x1='47.6805' y1='8.30129' x2='8.41484' y2='47.5669' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%23EE2A7B'/%3e %3cstop offset='1' stop-color='%2392278F'/%3e %3c/linearGradient%3e %3c/defs%3e %3c/svg%3e",
  },
  grafana: {
    name: "Grafana",
    type: "grafana",
    description: "Grafana - Data visualization and analytics platform",
    image_url:
      "data:image/svg+xml,%3c!-- Generator: Adobe Illustrator 24.2.1, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e %3csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 510 510' style='enable-background:new 0 0 510 510;' xml:space='preserve'%3e %3cstyle type='text/css'%3e .st0%7bfill:url(%23SVGID_1_);%7d .st1%7bfill:%23FFFFFF;%7d %3c/style%3e %3cg id='Layer_2'%3e %3cg%3e %3clinearGradient id='SVGID_1_' gradientUnits='userSpaceOnUse' x1='7.5' y1='257' x2='502.5' y2='257' gradientTransform='matrix(1 0 0 -1 0 512)'%3e %3cstop offset='0' style='stop-color:%23F7941D'/%3e %3cstop offset='1' style='stop-color:%23FBB040'/%3e %3c/linearGradient%3e %3cpath class='st0' d='M254.6,7.5C118.6,7.5,7.5,118.6,7.5,255.4c0,136,111.1,247.1,247.1,247.1s247.9-111.1,247.9-247.1 C502.5,118.6,391.4,7.5,254.6,7.5z'/%3e %3c/g%3e %3c/g%3e %3cg id='Layer_1'%3e %3cg%3e %3cpath class='st1' d='M442.7,281.7c0.9,1.1,2.8,12.3,1.4,17.8c-1.4,5.5-4.2,6.8-6.3,5.5c-2.1-1.4-13.3-15.7-19.6-20.5 c-6.3-4.8-14.3-8.9-14.7-8.2c-0.4,0.7,5.6,8.9,9.1,12.3c3.5,3.4,9.4,6.6,9.1,7.5s-9.1-0.7-27.4-13.7c-18.2-13-42.9-16.3-34.5-25.6 c3.7-4.1,12.3-9.6,15.3-7.8c4.4,2.6,0.3,12.2,4.5,12.2c4.2,0,3.6-8.7,7.7-8.9c4.1-0.2,15.4,12.3,25.2,18.5 C422.3,276.9,439.9,279,442.7,281.7'/%3e %3cpath class='st1' d='M415.3,244.7c0.8-0.3,13.3,8.9,18.2,15.1c4.9,6.2,11.9,14.4,7,14.4c-4.9,0-14-4.1-16.1-8.2s-2.8-9.6-5.6-13 C416,249.5,414.6,246.8,415.3,244.7'/%3e %3cpath class='st1' d='M411.8,235.7c0,0-14-25.3-22.4-41.7c-8.4-16.4-24.3-44.7-33.7-48.3c-12.4-4.7-7.8-16.3-13.8-15.8 c-10.3,0.8-20.8-0.8-25,1.3c-4.2,2.1-6.3,6-7.6,9.1c-1.3,3.3,2.5,6.3,1.8,10.4c-0.7,4.1-8,3.9-3.3,14.2c2.9,6.5,17.6-0.6,30.4,5.9 c6.7,3.4,19.6,28,33.7,39c14,10.9,34.4,26.7,36.5,28C410.4,239.1,413.2,238.4,411.8,235.7'/%3e %3cpath class='st1' d='M358.7,250.9c3.2-1.9,11.4-6.7,6.5-9.5c-4.9-2.7-20.2-14.6-22.3-16c-2.1-1.4-6.3-0.7-6.3,2.7 c0,3.4,1.7,16,6.3,18.1C347.7,248.5,355.7,252.7,358.7,250.9z'/%3e %3cpath class='st1' d='M314.8,218.7c-5.3-3.2-6-10-4.3-12.3c2.2-2.8,13.1,3.4,19.8,9.7C337,222.4,327.6,226.5,314.8,218.7z'/%3e %3cpath class='st1' d='M367.9,272.6c-3.7,0-4.2,9.6,10.5,20.5c14.7,11,29.5,17.1,42.8,17.8c13.3,0.7,11.2-4.8,9.8-6.8 c-1.4-2.1-14.7,0.7-28.1-3.4C389.7,296.6,371.6,272.6,367.9,272.6z'/%3e %3cpath class='st1' d='M359.8,278.3c-1.7,3.1-13.6-3.7-19.3-6.6c-9.9-4.8-13.2-5.2-11.3-12.7c2.1-7.7,10.1-9.5,14.3-8.7 c19.4,3.9,0.3,9.9,3,13.6C348.9,267.2,365.2,268.8,359.8,278.3z'/%3e %3cpath class='st1' d='M331.2,243.2c4.2-2.3-2.9-14.6-10-17.9c-7.1-3.3-13.2-8.6-17-4.3c-3.8,4.3-3.5,7.7-0.8,10.3 c2.7,2.6,12.9,8.9,17.1,10.4C324.8,243.2,327.5,245.2,331.2,243.2'/%3e %3cpath class='st1' d='M320.7,246c0,0,6.6,7.4,3.6,13.5c-3,4-3.5,2.6-13.6-4.5c-8.1-5.3-11.4-10.4-6-12.5 C310.1,240.3,317.1,241.7,320.7,246'/%3e %3cpath class='st1' d='M284.4,221.5c-5.3,0-17.3,2.2-17.8,6.2c-0.4,3.4,4.3,5.5,17.5,6c4.5,0.2,8.5,8.5,12.9,7.7 C303.9,240,294.5,221.5,284.4,221.5z'/%3e %3cpath class='st1' d='M301.7,216.8c-12.5,1.4-16.6-14.1-11.2-15.2C296,200.6,309.5,214.2,301.7,216.8'/%3e %3cpath class='st1' d='M300.7,181.4c-0.3,0,12.7-10.2,23.6-5.8c10.9,4.4,10.3,12.7,13.4,14.6c3.1,1.9,7.4,6.2,7.4,6.2 s-12.6-2.2-16.7-1c-4.1,1.2-11.3,6-18.4-2.3C303,184.9,302,181.6,300.7,181.4'/%3e %3cpath class='st1' d='M292.9,186.3c-0.8,4.7-23.6,5.4-16.9-2.9C282.7,175.1,293.8,180.8,292.9,186.3'/%3e %3cpath class='st1' d='M290.8,164.5c2.7,2.2,10.2,3.2,7.3,5.4c-2.9,2.3-12.4,4.5-15.6,0c-3.2-4.5-0.9-11.8,3.7-11.8 C290.8,158.2,289,163,290.8,164.5'/%3e %3cpath class='st1' d='M303.1,151.7c-1.7,6.3-20.8,3.1-26.6-3.9c-5.8-7-2.8-9.3,1.1-13.6c2.6-2.8,17.1-4.7,18.7-2.3 C300.2,137.6,303.7,149.3,303.1,151.7z'/%3e %3cpath class='st1' d='M274.7,152.1c0,0-1.1,18.3-10.8,20.5c-9.7,2.1-11.4,4.2-15.8,0c-4.4-4.2-7.2-9.8-7.9-14.4 c-0.7-4.5-0.2-9.9-3.5-14c-3.2-4.1-13.7-13.1-25.7-18.3c-12-5.2-27.1-10.6-27.1-10.6s26.6-3.8,41.9,4.5 c15.3,8.4,25.7,17.6,29.9,20.3C260,142.8,273.3,143.2,274.7,152.1'/%3e %3cpath class='st1' d='M238,168.8c-3.4,0-21.5-13.8-31-22.2c-9.5-8.4-18.1-24-18.1-24s16.2,4.5,26.2,11.1 c10,6.6,18.5,10.7,19.7,17.4c1.2,6.7-0.5,4.1,0.8,8.9C236.7,164.8,241.4,168.8,238,168.8'/%3e %3cpath class='st1' d='M280.4,200.7c-1.9-2.1-11,4.1-9.3,9.8c1.7,5.8,6,8.6,9.8,7.5c3.8-1.1,5.9-2.9,5-4.5c-0.9-1.5-4.1-1.5-5-4.6 C280,205.9,282.6,203,280.4,200.7'/%3e %3cpath class='st1' d='M268.1,187c-4.3-7.7-25,12.1-23.6,22.3c1.5,10.3,15,14.6,22,12.3c7-2.3-1.1-10.3-3.1-14.6 C261.4,202.7,272.4,194.7,268.1,187z'/%3e %3cpath class='st1' d='M237.5,215.1c6.2-4.2,3.2,7.9,6.7,12.9c3.5,5,13.9-4.1,16.7-0.5c3.3,4.2-9,13.8-13.1,16.5 c-3.8,2.5-4.4-2.8-9.1-10.4C233.9,226.1,231.4,219.4,237.5,215.1z'/%3e %3cpath class='st1' d='M221.4,196.6c-4.2-1.4-11.7,7.8-7.8,14.9c3.9,7,5.6,12.5,9.7,9.9c4.1-2.7,13.8-7.2,11-13.1 C231.5,202.4,222.9,197.1,221.4,196.6'/%3e %3cpath class='st1' d='M211.9,197.6c-7.3,15-0.3,17-9.6,27.2c-7.2,7.9-14.3,1.8-19.9-3.2c-4.2-3.7,3.7-15.6,15.4-27.3 c11.7-11.7,22.5-23.7,28.4-21.6C232.1,174.8,219.1,182.6,211.9,197.6z'/%3e %3cpath class='st1' d='M212.7,224.6c-6.4,0.1-16.7,12-14.1,18.4c2.6,6.3,22.3,26.1,26.8,24.4c7-2.6,13.5-10.6,15.5-18.7 C242.6,242.2,224,224.4,212.7,224.6'/%3e %3cpath class='st1' d='M127.9,360.6c-6.4,0.1-16.7,12-14.1,18.4c2.6,6.3,25.4,28.5,29.7,26.3c7.5-3.9,13.4-14.2,14.4-19.5 C159.7,376.7,139.3,360.5,127.9,360.6'/%3e %3cpath class='st1' d='M217.1,276c1.2,3.5-9.2,26.2-13.9,25.8c-4.7-0.4-23.6-12.4-24.9-19.3c-1.3-6.8,9.6-27.3,17.3-27.6 C203.4,254.7,216.4,273.9,217.1,276'/%3e %3cpath class='st1' d='M198.2,313.2c-0.4,4.3-5.5,17.6-11.4,19.8c-2.9,1.1-8.5-1.7-15.1-11.9c-6.6-10.2-9.2-23.4-3-27.8 c4-2.8,17.2,5.7,21.8,10.2C195.4,308.2,198.6,309,198.2,313.2z'/%3e %3cpath class='st1' d='M169.4,331.3c9.1,9.9,15.2,6.6,9.8,20.1c-3.5,8.7-10.6,24.7-16.2,25.3c-4.2,0.4-16.3-18.2-20.6-31.9 c-3.8-13.5-1-29.3,6.5-29.3C153.9,315.5,160.3,321.3,169.4,331.3z'/%3e %3cpath class='st1' d='M135.6,284.2c0,0-16.6,22.6-13.8,25.5c2.8,2.9,22.7,1.1,24.6-5.7c1.9-6.8,1.5-22.7-2.6-23.9 S138.6,280.1,135.6,284.2'/%3e %3cpath class='st1' d='M148.1,278.5c-3.2-6.3,1.6-15.1,4.9-21.2c3.2-6,17.1-27.4,21.3-29c4.2-1.6,11.6-0.9,14.4,4.3 c2.8,5.2-14.6,32.8-19.2,40c-4.6,7.2-3.3,17-10.2,18.6C152.3,292.7,151.4,284.8,148.1,278.5z'/%3e %3cpath class='st1' d='M104.8,369c-4.4-0.5-7.6-3.5-10.9-7.5c-4.5-5.5-1.7-9.6,1.5-15.6c3.2-6,17.1-27.4,21.3-29 c4.2-1.6,11.6-0.9,14.4,4.3c2.8,5.2-12.1,28.8-16.7,36C109.7,364.4,109.2,369.5,104.8,369z'/%3e %3c/g%3e %3cpath class='st1' d='M319.3,124.9c1.4-0.7,2.5-24.2,2.5-36.3s-4-20.2-15.2-26.3c-11.1-6.1-24.8-1.8-24.3,8.6 c0.5,10.4,13.4,14.9,13.7,22.4c0.2,7.5,2.5,17.9-0.9,23.1c-3.5,5.2-9.2,10.6-8.8,11.5c0.4,0.9,9.6-2.5,12.6,0 c2.9,2.5,5.3,10.2,6.2,10.2s3.1-5.2,6.6-8.8C315,125.6,319.3,124.9,319.3,124.9'/%3e %3cpath class='st1' d='M337.8,67.3c-4.8-8.4-15.8-3.3-19.6-1.2c6.9,5.6,9.5,12.8,9.5,22.5c0,10.7-2.5,35.9-1.8,36.8 c0.7,0.8,15.7,0.5,16.4-0.2C342.9,124.6,343.6,77.5,337.8,67.3z'/%3e %3cpath class='st1' d='M226.2,187.4c-0.3,4,8,11.6,13,10.5c5-1,14.3-10.5,12.1-13.5c-2.2-3-12.3-12.5-15.4-9.5 C232.8,178,226.4,184.1,226.2,187.4z'/%3e %3c/g%3e %3c/svg%3e",
  },
};

interface IProps {
  services: {
    name: string;
    id: number;
    nodes: number;
    plan: string;
    cloud: string;
    createdAt: string;
    type: string;
    status?: string;
  }[];
  service_id: string;
}

const ServiceInfoCard = ({ services, service_id }: IProps) => {
  const service = services?.find(
    (service) => service.id === Number(service_id)
  );
  console.log(service);
  return (
    service && (
      <div className="flex flex-row gap-3 text-black w-full">
        <Image
          src={matcher[service.type as keyof typeof matcher].image_url}
          width={80}
          height={80}
          alt={service.name}
        />
        <div className="flex flex-col items-start text-black py-2 gap-1">
          <p className="text-bold text-xl">{service.name}</p>
          <Render_info_Buttons />
        </div>
      </div>
    )
  );
};

const statusButton = (status: string) => {
  return (
    <div
      className={`rounded-md px-2 py-1 text-white ${
        status === "active"
          ? "bg-green-100 text-green-700"
          : "bg-red-500 text-red-700"
      }`}
    >
      <p
        className={
          status === "active"
            ? "bg-green-100 text-xs text-green-700"
            : "bg-red-500 text-xs text-red-700"
        }
      >
        {status}
      </p>
    </div>
  );
};
const Render_info_Buttons = () => {
  return (
    <div className="flex flex-row w-full gap-2">
      {statusButton("active")}
      {nodeButton(1)}
    </div>
  );
};

const SERVICE_INFO_KEYS = [
  { key: "service_uri", desc: "Service URL" },
  { key: "service_port", desc: "Port" },
  { key: "service_host", desc: "Host" },
  { key: "service_username", desc: "User" },
  { key: "service_password", desc: "Password" },
  { key: "service_database_name", desc: "Database name" },
];

const RenderServiceInfo = ({
  name,
  serviceType,
}: {
  name: string;
  serviceType: string;
}) => {
  const [isCopied, setIsCopied] = useState(false);
  const { data } = useQuery({
    queryKey: "service_info",
    queryFn: async () => {
      return fetch("/api/services/service-info", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ name, serviceType }),
      }).then((res) => res.json());
    },
  });
  return (
    <>
      {SERVICE_INFO_KEYS.map((key, index) => (
        <div
          className={
            index === SERVICE_INFO_KEYS.length - 1
              ? "w-full grid grid-cols-3 py-3 px-3"
              : "w-full grid grid-cols-3 py-3 px-3 border-b"
          }
          key={index}
        >
          <div className="w-full col-span-1">
            <p className="text-gray-700 text-md font-[500]">{key.desc}</p>
          </div>
          <div className="w-full col-span-2 flex justify-between items-center">
            <p className="text-gray-600 ">{data?.data?.data[key.key]}</p>
            <LuClipboard
              size={20}
              className="text-gray-400 cursor-pointer"
              onClick={() => {
                navigator.clipboard.writeText(data?.data?.data[key.key]);
                toast.success("Copied to clipboard");
              }}
            />
          </div>
        </div>
      ))}
    </>
  );
};
